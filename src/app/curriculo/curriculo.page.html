<ion-header [translucent]="true" mode="md">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title
      *ngIf="empregado"
      color="light"
      class="centertext tituloProject bold"
      >curriculo</ion-title
    >
    <ion-title
      *ngIf="empresa"
      color="light"
      class="centertext tituloProject bold"
      >Dados empresariais</ion-title
    >
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row>
    <ion-col>
      <ion-item lines="none">
        <ion-thumbnail slot="start"
          ><img *ngIf="empregado" src="../../assets/icon/user.png" />
          <img *ngIf="empresa" src="../../assets/icon/buildings.png" />
        </ion-thumbnail>
        <ion-label class="bold">
          <h1 *ngIf="empregado" style="margin-bottom: 0px; font-weight: bold">
            {{perfil.nome}}
          </h1>
          <h1 *ngIf="empresa" style="margin-bottom: 0px; font-weight: bold">
            {{perfil.nomeEmpresa}}
          </h1>
          <p style="margin-top: 5px">{{contatoPrincipal}}</p>
        </ion-label>
      </ion-item>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col>
      <ion-accordion-group *ngIf="empregado">
        <ion-accordion value="dadosP">
          <ion-item slot="header" color="light">
            <ion-label>Dados Pessoais</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalDadosP">
                      <ion-label style="margin-top: 3px">Editar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="pencil"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">E-mail:</span>
                        {{perfil.email}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">RG:</span> {{perfil.rg}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">CPF:</span>
                        {{perfil.cpf}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Nascimento:</span>
                        {{perfil.dataNasc}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Gênero:</span>
                        {{perfil.genero}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Estado Civil:</span>
                        {{perfil.estadoCivil}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Senha:</span> **********</ion-label
                      >
                    </ion-row>
                  </ion-item>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>

        <ion-accordion value="endereco">
          <ion-item slot="header" color="light">
            <ion-label>Endereco</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalendereco">
                      <ion-label style="margin-top: 3px">Editar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="pencil"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">CEP:</span>
                        {{perfil.cep}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Endereço:</span>
                        {{perfil.endereco}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Número:</span>
                        {{perfil.numero}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Bairro:</span>
                        {{perfil.bairro}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Cidade:</span> {{perfil.cidade}} -
                        {{perfil.estado}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>

        <ion-accordion value="contato">
          <ion-item slot="header" color="light">
            <ion-label>Contatos</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalcontato">
                      <ion-label style="margin-top: 3px">Adicionar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="add-circle"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <div *ngFor="let contact of perfil.contatos">
                    <ion-item style="margin-top: 10px">
                      <ion-label>
                        <h2>{{contact.contato}}</h2>
                        <p>{{contact.tipo}}</p>
                      </ion-label>
                      <ion-icon name="trash-outline" color="danger" (click)="removerDados(contact,'contatos', 'empregado')"></ion-icon>
                    </ion-item>
                  </div>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>

        <ion-accordion value="formacao">
          <ion-item slot="header" color="light">
            <ion-label>Formações educacionais</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalformacao">
                      <ion-label style="margin-top: 3px">Adicionar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="add-circle"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <div *ngFor="let forms of perfil.formacaoEdu">
                  <ion-item style="margin-top: 10px">
                    <ion-label>
                      <h2>{{forms.instituicao}}</h2>
                      <h2>{{forms.curso}}</h2>
                      <p *ngIf="forms.situacao === 'Concluído'"> {{forms.nivel}} - <span style="color: #00bd2f; 
                      text-decoration: underline;"> {{forms.situacao}}</span></p>
                      <p *ngIf="forms.situacao === 'Em andamento'"> {{forms.nivel}} - <span style="color: #ffc409; 
                        text-decoration: underline;"> {{forms.situacao}}</span></p>
                      <p *ngIf="forms.situacao === 'Incompleto'"> {{forms.nivel}} - <span style="color: #eb445a; 
                          text-decoration: underline;"> {{forms.situacao}}</span></p>
                    </ion-label>
                    <ion-icon name="trash-outline" color="danger" (click)="removerDados(forms,'formacaoEdu', 'empregado')"></ion-icon>
                  </ion-item>
                </div>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>

        <ion-accordion value="exp">
          <ion-item slot="header" color="light">
            <ion-label>Experiências profissionais</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalexp">
                      <ion-label style="margin-top: 3px">Adicionar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="add-circle"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <div *ngFor="let exp of perfil.expProfissional">
                  <ion-item style="margin-top: 10px">
                    <ion-label>
                      <h2>{{exp.empresa}} - {{exp.cargo}}</h2>
                      <h3 *ngIf="exp.atual">{{exp.dtinicio | date:'dd/MM/yyy'}} - {{exp.dtFinal}}</h3>
                      <h3 *ngIf="!exp.atual">{{exp.dtinicio | date:'dd/MM/yyy'}} - {{exp.dtFinal | date:'dd/MM/yyy'}}</h3>
                      <p>{{exp.descricao}}</p>
                    </ion-label>
                    <ion-icon
                      name="pencil"
                      color="dark"
                      style="padding-right: 15px"
                    ></ion-icon>
                    <ion-icon name="trash-outline" color="danger" (click)="removerDados(exp,'expProfissional', 'empregado')"></ion-icon>
                  </ion-item>
                </div>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>

        <ion-accordion value="cursos">
          <ion-item slot="header" color="light">
            <ion-label>Cursos</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalcursos">
                      <ion-label style="margin-top: 3px">Adicionar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="add-circle"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <div *ngFor="let curso of perfil.cursos">
                  <ion-item style="margin-top: 10px">
                    <ion-label>
                      <h2>{{curso.nome}}</h2>
                      <p>{{curso.instituicao}}</p>
                    </ion-label>
                    <ion-icon name="trash-outline" color="danger" (click)="removerDados(curso,'cursos', 'empregado')"></ion-icon>
                  </ion-item>
                </div>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>

        <ion-accordion value="idioma">
          <ion-item slot="header" color="light">
            <ion-label>Idiomas</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalidioma">
                      <ion-label style="margin-top: 3px">Adicionar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="add-circle"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <div *ngFor="let idioma of perfil.idiomas">
                  <ion-item style="margin-top: 10px">
                    <ion-label>
                      <h2>{{idioma.idioma}}</h2>
                      <p *ngIf="idioma.nivel === 'iniciante'">Iniciante</p>
                      <p *ngIf="idioma.nivel === 'basico'">Intermediário</p>
                      <p *ngIf="idioma.nivel === 'avancado'">Avançado</p>
                      <p *ngIf="idioma.nivel === 'fluente'">Fluente</p>
                    </ion-label>
                    <ion-icon name="trash-outline" color="danger" (click)="removerDados(idioma,'idiomas', 'empregado')"></ion-icon>
                  </ion-item>
                </div>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>
      </ion-accordion-group>

      <ion-accordion-group *ngIf="empresa">
        <ion-accordion value="dadosP">
          <ion-item slot="header" color="light">
            <ion-label>Dados Empresa</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalDadosP">
                      <ion-label style="margin-top: 3px">Editar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="pencil"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Nome Fantasia:</span>
                        {{perfil.fantasia}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">E-mail:</span>
                        {{perfil.email}}</ion-label
                      >
                    </ion-row>
                  </ion-item>

                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">CNPJ:</span>
                        {{perfil.cnpj}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Data abertura:</span>
                        {{perfil.dataAb}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">CNAE:</span>
                        {{perfil.cnae}}</ion-label
                      >
                    </ion-row>
                  </ion-item>

                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Situação:</span>
                        {{perfil.situacao}}</ion-label
                      >
                    </ion-row>
                  </ion-item>

                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Natureza Jurídica:</span>
                        {{perfil.natureza}}</ion-label
                      >
                    </ion-row>
                  </ion-item>

                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Ramo empresarial:</span>
                        {{perfil.ramo}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <br />

                  <ion-row style="margin-left: 16px">
                    <ion-label
                      ><span class="bold">Descrição:</span>
                      {{perfil.descricaoEmpresa}}</ion-label
                    >
                  </ion-row>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>

        <ion-accordion value="endereco">
          <ion-item slot="header" color="light">
            <ion-label>Endereco</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalendereco">
                      <ion-label style="margin-top: 3px">Editar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="pencil"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">CEP:</span> {{perfil.cep}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Endereço:</span> {{perfil.endereco}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Número:</span> {{perfil.numero}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Bairro:</span> {{perfil.bairro}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  <ion-item>
                    <ion-row>
                      <ion-label
                        ><span class="bold">Cidade:</span> {{perfil.cidade}} - {{perfil.estado}}</ion-label
                      >
                    </ion-row>
                  </ion-item>
                  
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>

        <ion-accordion value="contato">
          <ion-item slot="header" color="light">
            <ion-label>Contatos</ion-label>
          </ion-item>
          <div slot="content">
            <ion-row>
              <ion-col>
                <ion-list>
                  <ion-row style="display: flex; justify-content: flex-end">
                    <ion-button id="modalcontato">
                      <ion-label style="margin-top: 3px">Adicionar</ion-label>
                      <ion-icon
                        class="iconEditar"
                        name="add-circle"
                        color="light"
                      ></ion-icon>
                    </ion-button>
                  </ion-row>
                  <div *ngFor="let contact of perfil.contatos">
                    <ion-item style="margin-top: 10px">
                      <ion-label>
                        <h2>{{contact.contato}}</h2>
                        <p>{{contact.tipo}}</p>
                      </ion-label>
                      <ion-icon name="trash-outline" color="danger" (click)="removerDados(contact,'contatos', 'empresa')"></ion-icon>
                    </ion-item>
                  </div>
                </ion-list>
              </ion-col>
            </ion-row>
          </div>
        </ion-accordion>
      </ion-accordion-group>
    </ion-col>
  </ion-row>

  <ion-modal
    #modal
    trigger="modalDadosP"
    [presentingElement]="presentingElement"
  >
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="modal.dismiss()" color="secondary"
              >Fechar</ion-button
            >
          </ion-buttons>
          <ion-title class="centertext">Editar</ion-title>
          <ion-buttons slot="end">
            <ion-button color="secondary">Salvar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list>
          <ion-item lines="none">
            <ion-label position="floating">Nome</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">E-mail</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">RG</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">CPF</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Data Nascimento</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Estado Civil </ion-label>
            <ion-select interface="popover">
              <ion-select-option
                *ngFor="let etCvl of estadoCivil"
                value="{{ etCvl.estadoAtual }}"
                >{{ etCvl.estadoAtual }}</ion-select-option
              >
            </ion-select>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Senha</ion-label>
            <ion-input></ion-input>
          </ion-item>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-modal
    #modal2
    trigger="modalendereco"
    [presentingElement]="presentingElement"
  >
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="modal2.dismiss()" color="secondary"
              >Fechar</ion-button
            >
          </ion-buttons>
          <ion-title class="centertext">Editar</ion-title>
          <ion-buttons slot="end">
            <ion-button color="secondary">Salvar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list>
          <ion-item lines="none">
            <ion-label position="floating">CEP</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Endereço</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Número</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Bairro</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Cidade - SP</ion-label>
            <ion-input></ion-input>
          </ion-item>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-modal
    #modal3
    trigger="modalcontato"
    [presentingElement]="presentingElement"
  >
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="modal3.dismiss()" color="secondary"
              >Fechar</ion-button
            >
          </ion-buttons>
          <ion-title class="centertext">Adicionar</ion-title>
          <ion-buttons slot="end">
            <ion-button color="secondary">Salvar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list>
          <ion-item class="ion-margin-top">
            <ion-label position="floating">Tipo de contato</ion-label>
            <ion-select style="width: 100%">
              <ion-select-option
                *ngFor="let tipo of tipoContato"
                value="{{tipo.nome}}"
                >{{tipo.nome}}</ion-select-option
              >
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Insira seu contato</ion-label>
            <ion-input></ion-input>
          </ion-item>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-modal
    #modal4
    trigger="modalformacao"
    [presentingElement]="presentingElement"
  >
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="modal4.dismiss()" color="secondary"
              >Fechar</ion-button
            >
          </ion-buttons>
          <ion-title class="centertext">Adicionar</ion-title>
          <ion-buttons slot="end">
            <ion-button color="secondary">Salvar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list>
          <ion-item lines="none">
            <ion-label position="floating">Nome instituição</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Nome curso</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item class="roundedInput">
            <ion-label position="floating">Nível</ion-label>
            <ion-select style="width: 100%">
              <ion-select-option
                *ngFor="let form of formacoes"
                value="{{form.nivel}}"
                >{{form.nivel}}</ion-select-option
              >
            </ion-select>
          </ion-item>

          <ion-item class="roundedInput">
            <ion-label position="floating">Situação</ion-label>
            <ion-select style="width: 100%">
              <ion-select-option
                *ngFor="let con of conclusoes"
                value="{{con.resp}}"
                >{{con.resp}}</ion-select-option
              >
            </ion-select>
          </ion-item>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-modal #modal5 trigger="modalexp" [presentingElement]="presentingElement">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="modal5.dismiss()" color="secondary"
              >Fechar</ion-button
            >
          </ion-buttons>
          <ion-title class="centertext">Adicionar</ion-title>
          <ion-buttons slot="end">
            <ion-button color="secondary">Salvar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list>
          <ion-item lines="none">
            <ion-label position="floating">Empresa</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-label position="floating">Cargo</ion-label>
            <ion-input></ion-input>
          </ion-item>

          <ion-row>
            <ion-col>
              <ion-label>Data de início</ion-label>
              <ion-input
                type="date"
                class="roundedInput ion-margin-top"
              ></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-label position="floating" class="ion-margin-top"
                >Data da saída</ion-label
              >
              <ion-input
                type="date"
                class="roundedInput ion-margin-top"
                [(ngModel)]="experiencia.demissao"
                disable="{{checado}}"
              ></ion-input>
            </ion-col>
          </ion-row>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
